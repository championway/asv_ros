<?xml version="1.0"?>
<launch>
    <arg name="veh" default="ASV"/>
    <arg name="gazebo" default="false"/>
    <arg name="differential_constrain" default="0.2" />
    <arg name="sec" default="4"/>
    <arg name="port" default="/dev/motor"/>

    <group ns="$(arg veh)">
        <remap from="joymapper/joy" to="joy" />
        <group if="$(arg gazebo)">
            <node pkg="joystick_control" type="joy_node.py" name="joymapper" output="screen">
                <param name="gazebo" value="$(arg gazebo)" />
            </node>
            <node pkg="joystick_control" type="check_signal.py" name="check_signal" output="screen">
                <param name="sec" value="$(arg sec)" />
            </node>
            <node pkg="joystick_control" type="check_internet.py" name="check_internet" output="screen">
                <param name="sec" value="$(arg sec)" />
            </node>
        </group>

        <group unless="$(arg gazebo)">
            <node pkg="joystick_control" type="joy_node.py" name="joymapper" output="screen">
                <param name="gazebo" value="$(arg gazebo)" />
            </node>
            <node pkg="joystick_control" type="check_signal.py" name="check_signal" output="screen">
                <param name="sec" value="$(arg sec)" />
            </node>
            <node pkg="joystick_control" type="check_internet.py" name="check_internet" output="screen">
                <param name="sec" value="$(arg sec)" />
            </node>
            <node pkg="rosserial_python" type="serial_node.py" name="rosserial" output="screen">
                <param name="port" value="$(arg port)" />
            </node>
        </group>
    </group>

</launch>
